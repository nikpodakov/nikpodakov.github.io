<html>

<head>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>Bun ver.2</title>
    <script type="text/javascript" src="js/box2d/box2d.js"></script>
    <script type="text/javascript" src="js/box2d/embox2d-helpers.js"></script>
    <script type="text/javascript" src="js/box2d/embox2d-html5canvas-debugDraw.js"></script>

    <script type="text/javascript" src="js/scene.js"></script>
    <script type="text/javascript" src="js/ground.js"></script>
    <script type="text/javascript" src="js/forces.js"></script>
    <script type="text/javascript" src="js/bun.js"></script>

    <script type="text/javascript" src="js/mouseJoint.js"></script>
    <script type="text/javascript" src="js/keyboardKeys.js"></script>

    <script type="text/javascript" src="js/bunBox2d-helpers.js"></script>

    <script src='js/jquery/jquery.js'></script>
    <script src='js/paper/paper-full.min.js'></script>
    <script src='js/convex2.js'></script>
    <script src='js/paperDraw.js'></script>

    <script type="application/javascript">
        function htmlInit() {
            canvas = document.getElementById("canvas");
            var buttonsDiv = document.getElementById("buttons");
            context = canvas.getContext( '2d' );
            canvas.width  = window.innerWidth/* / 2*/;
            canvas.height = window.innerHeight/* - buttonsDiv.offsetHeight*/;
            canvasOffset.x = canvas.width / 2;
            canvasOffset.y = canvas.height / 2;
            viewCenterPixel.x = canvas.width / 2;
            viewCenterPixel.y = canvas.height / 2;
        }

    </script>
    <script type="text/javascript">
        window.onload = function() {
            htmlInit();
            paperInit();

            using(Box2D, "b2.+");
            var world = createWorld();
            //initMouseJoint(canvas, world);
            initKeyboardKeys();
            initForcesVectors();
            animate();
        };

    </script>
    <style>
        body, html {
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
            overflow: hidden;
        }
    </style>
</head>
<body>
<div id="container">
    <div id="buttons" align="center">
        <button onclick="directForces(-1)">Direct wind to left</button>
        <button onclick="directForces(1)">Direct wind to right</button>
        <button onclick="strengthenForces()">Strengthen wind</button>
        <button onclick="weakenForces()">Weaken wind</button>
        <button onclick="resetForcesValue()">Stop wind</button>
        <button onclick="createGoodBridge()">Create good bridge</button>
        <button onclick="createBadBridge()">Create bad bridge</button>
        <button onclick="destroyBridge()">Destroy bridge</button>
        <button onclick="run = false">Pause</button>
        <button onclick="run = true; animate()">Play</button>
    </div>
    <div style="height:100%; width:100%; position: absolute">
        <canvas id="paperCanvas" style="z-index: 3; position: absolute"></canvas>
        <canvas id="drawCanvas" style="z-index: 2; position: absolute"></canvas>
        <canvas id="canvas" style="z-index: 1; position: absolute"></canvas>
    </div>
</div>

</body>
</html>
